# ===========================================
# Quant Analytics Platform - Environment Variables
# ===========================================
# Copy this file to .env and fill in your values
# NEVER commit .env to version control!

# ===========================================
# APPLICATION SETTINGS
# ===========================================
PROJECT_NAME="Quant Analytics Platform"
VERSION="0.1.0"
API_V1_STR="/api/v1"
ENVIRONMENT=development  # development, staging, production
DEBUG=true  # Set to false in production

# ===========================================
# SECURITY (REQUIRED - MUST BE SET!)
# ===========================================
# Generate a secure random key (32+ characters):
# python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=CHANGEME_generate_a_secure_random_32_char_key

ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# ===========================================
# DATABASE (PostgreSQL + TimescaleDB)
# ===========================================
DATABASE_URL=postgresql://quant_user:quant_password@localhost:5432/quant_db
POSTGRES_USER=quant_user
POSTGRES_PASSWORD=quant_password  # Change in production!
POSTGRES_DB=quant_db

# ===========================================
# REDIS (Caching & Task Queue)
# ===========================================
REDIS_URL=redis://localhost:6379/0

# ===========================================
# CELERY (Background Tasks)
# ===========================================
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0

# ===========================================
# SUPABASE (Authentication & Storage)
# ===========================================
# Get from: https://supabase.com/dashboard/project/_/settings/api
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your_anon_key_here
SUPABASE_SERVICE_KEY=your_service_key_here  # Keep secret!

# ===========================================
# EXTERNAL APIs
# ===========================================
# Polygon.io - Stock market data (premium)
# Get from: https://polygon.io/dashboard/api-keys
POLYGON_API_KEY=your_polygon_api_key_here

# Alpha Vantage - Stock market data (free tier available)
# Get from: https://www.alphavantage.co/support/#api-key
ALPHA_VANTAGE_API_KEY=your_alpha_vantage_api_key_here

# ===========================================
# MONITORING & OBSERVABILITY
# ===========================================
# Sentry - Error tracking
# Get from: https://sentry.io/settings/account/api/auth-tokens/
SENTRY_DSN=https://your_sentry_dsn_here
SENTRY_ENVIRONMENT=development

# PostHog - Product analytics (optional)
# Get from: https://posthog.com/project/settings
POSTHOG_API_KEY=your_posthog_api_key_here
POSTHOG_HOST=https://app.posthog.com

# ===========================================
# CORS SETTINGS
# ===========================================
# Comma-separated list of allowed origins
BACKEND_CORS_ORIGINS=http://localhost:3000,http://localhost:8000,http://127.0.0.1:3000,http://127.0.0.1:8000

# ===========================================
# EMAIL SERVICE (Resend)
# ===========================================
# Get from: https://resend.com/api-keys
RESEND_API_KEY=re_your_resend_api_key_here
FROM_EMAIL=noreply@yourdomain.com

# ===========================================
# PAYMENT PROCESSING (Stripe)
# ===========================================
# Get from: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key_here
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key_here
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# ===========================================
# RATE LIMITING
# ===========================================
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

# ===========================================
# PRODUCTION CHECKLIST
# ===========================================
# Before deploying to production, ensure:
# ✅ SECRET_KEY is a strong random value (32+ characters)
# ✅ DEBUG is set to false
# ✅ DATABASE_URL uses strong passwords
# ✅ POSTGRES_PASSWORD is not the default
# ✅ All API keys are production keys (not test/sandbox)
# ✅ CORS origins are explicitly set (no wildcards)
# ✅ SENTRY_DSN is configured for error tracking
# ✅ HTTPS is enforced
# ✅ Environment variables are set in your hosting platform
# ✅ .env file is in .gitignore and never committed
